# 密码管理工具 - 完整使用指南

## 📱 使用前重要准备

**⚠️ 强烈建议：在使用本工具前，请先在手机上下载并安装身份验证器应用！**

### 推荐提前下载身份验证器应用

**强烈建议在使用本工具前，先在手机上下载并安装身份验证器应用：**

#### 推荐应用（按推荐程度排序）：
1. **腾讯身份验证器**（强烈推荐）
   - 微信搜索"腾讯身份验证器"小程序
   - 或在应用商店搜索"腾讯身份验证器"下载APP
   - 支持扫码和手动输入密钥
   - 界面简洁，操作方便

2. **Google Authenticator**
   - 在应用商店搜索"Google Authenticator"
   - 支持多种TOTP标准
   - 稳定可靠

3. **Microsoft Authenticator**
   - 微软官方身份验证器
   - 功能丰富，支持备份

4. **其他兼容应用**
   - 1Password
   - Authy
   - 任何支持TOTP标准的身份验证器

#### 为什么需要提前准备？
- 创建密码库时需要立即扫描QR码或输入密钥
- 每次登录都需要使用验证码
- 提前安装可以避免使用时的等待和中断

## 🚀 系统要求与安装

### Windows系统要求
- **操作系统**：Windows 7 SP1 或更高版本
- **架构**：64位操作系统
- **运行库**：Microsoft Visual C++ Redistributable
- **磁盘空间**：至少 100MB 可用磁盘空间
- **网络连接**：云存储功能需要

### Linux系统要求（统信UOS）
- 统信UOS 20 或更高版本
- Python 3.8 或更高版本
- PyQt6 和相关依赖
- 至少 500MB 可用磁盘空间
- 网络连接（云存储功能需要）

### Windows安装和启动

#### 首次安装
1. **安装运行库（重要）**
   - 双击运行 `vcredist_x64.exe`
   - 按照提示完成 Microsoft Visual C++ Redistributable 安装
   - 如果系统已安装相同或更高版本，可以跳过此步骤

2. **运行程序**
   - 双击 `密码管理工具.exe` 启动程序
   - 首次运行会创建必要的配置文件和数据库

3. **遇到问题时**
   - 如果程序无法启动或出现错误，请参考下方的故障排除部分
   - 确保已正确安装Microsoft Visual C++ Redistributable
   - 检查系统是否安装了所有重要的Windows更新

#### 后续使用
- 直接双击 `密码管理工具.exe` 即可运行
- 无需安装Python或其他依赖

### Linux安装（统信UOS）
- 按照 [UOS使用指南.md](UOS使用指南.md) 进行安装
- 或下载预编译的DEB包直接安装

## 📋 快速开始

### 首次使用

**⚠️ 重要提醒：请确保已在手机上安装好腾讯身份验证器或其他Authenticator应用！**

1. **启动程序**：
   - **Windows用户**：双击运行 `密码管理工具.exe`
   - **Linux用户**：按照相应系统指南启动

2. **创建密码库**：
   - 切换到"新建"标签页
   - 选择数据库文件保存位置
   - 输入用户名并点击"创建"
   - **立即使用手机上的腾讯身份验证器扫描显示的QR码**
   - 或手动输入显示的密钥到身份验证器中
   - 保存好密钥信息（重要！）

3. **登录验证**：
   - 切换到"登录"标签页
   - 输入用户名
   - 选择对应的数据库文件
   - **打开腾讯身份验证器，输入显示的6位验证码**
   - 点击"登录"

## 🔐 主要功能

### 密码管理
- **添加密码**：点击工具栏"添加"按钮，填写密码信息
- **编辑密码**：双击密码条目或选中后点击"编辑"
- **删除密码**：选中密码后点击"删除"按钮
- **复制密码**：右键点击密码条目，选择复制选项

### 分类管理
- **创建分类**：在左侧分类树中右键，选择"添加分类"
- **筛选查看**：点击左侧分类查看对应密码
- **搜索功能**：使用顶部搜索框快速查找密码

### 数据安全
- **自动备份**：程序会自动创建数据备份
- **数据加密**：所有密码数据都经过加密存储
- **TOTP认证**：使用时间动态密码保障安全

## ☁️ 云存储同步功能

### 功能概述
- **多平台支持**：支持阿里云OSS、腾讯云COS、百度云BOS、百度网盘、OneDrive、Dropbox、网络驱动器等
- **自动同步**：可设置自动同步间隔，程序启动、保存时自动同步，支持定时同步
- **手动同步**：支持手动上传和下载数据
- **冲突处理**：智能处理同步冲突，智能处理多设备间的数据冲突
- **安全保障**：云端数据保持加密，确保安全性

### 快速配置
1. **启用功能**：设置 → 云存储设置 → 启用云存储同步
2. **选择类型**：根据使用的云服务选择存储类型
3. **配置路径**：设置云存储本地同步文件夹路径
4. **测试连接**：确认配置正确并可正常访问

### 使用场景
- **个人多设备**：家庭和办公室电脑间同步
- **团队协作**：使用网络驱动器共享团队密码库
- **移动办公**：临时设备快速获取最新数据

详细配置请参考：[云存储同步指南](云存储同步指南.md)

## 🎨 界面设置

### 主题切换
- 点击菜单栏"设置" → "主题"
- 选择"深色主题"或"浅色主题"
- 设置会自动保存

### 列宽调整
- 拖拽表格列边界调整宽度
- 程序会记住你的设置

## 🔧 高级功能

### 数据导出
1. 点击菜单栏"文件" → "导出数据"
2. 选择导出位置和格式
3. 输入导出密码（可选）
4. 点击"导出"完成

### 数据导入
1. 点击菜单栏"文件" → "导入数据"
2. 选择要导入的文件
3. 输入导入密码（如果有）
4. 确认导入操作

### 备份管理
- **查看备份**：菜单栏"文件" → "备份管理"
- **恢复备份**：选择备份文件进行恢复
- **清理备份**：删除过期的备份文件

### TOTP认证
- 双因素认证保障
- 密钥管理和备份
- 详见：[README.md - TOTP密钥管理](README.md#totp密钥管理)

### 界面定制
- 深色主题（默认）
- 列宽调整和记忆
- 自动锁定设置

### 多设备协作
- 云存储同步配置
- 冲突解决策略
- 团队使用规范
- 详见：[云存储同步指南 - 多设备使用场景](云存储同步指南.md#多设备使用场景)

## 📱 移动端配置

### 身份验证器应用详细说明

#### 腾讯身份验证器（推荐）
**下载方式：**
- 微信搜索"腾讯身份验证器"小程序（最便捷）
- 应用商店搜索"腾讯身份验证器"下载APP
- 支持Android和iOS系统

**使用优势：**
- 国内网络环境稳定
- 界面简洁易用
- 支持多种添加方式
- 腾讯官方产品，安全可靠

#### 其他推荐应用
- **Google Authenticator**：国际通用标准
- **Microsoft Authenticator**：微软官方，功能丰富
- **1Password**：密码管理器内置功能

### 设置步骤
1. **提前准备**：在手机上安装腾讯身份验证器或其他Authenticator应用
2. **添加账户**：创建密码库时扫描QR码或手动输入密钥
3. **备份密钥**：保存密钥备份信息到安全位置
4. **测试验证**：确认验证码生成正常，能够成功登录

### 重要提醒
- **务必在创建密码库前准备好身份验证器应用**
- 如果没有提前安装，创建过程会被中断
- 建议同时在多个设备上配置相同的密钥作为备份

## 🛠️ 故障排除

### Windows常见问题

**1. 程序无法启动**
- **快速修复**：运行兼容性自动修复脚本
  - **方法一（推荐）**：双击运行 `fix_compatibility_cn.bat`（中文版）
  - **方法二**：双击运行 `fix_compatibility.bat`（英文版）
  - **在PowerShell中运行**：如果双击无效，请在PowerShell中输入：
    ```
    cmd /c fix_compatibility_cn.bat
    ```
    或
    ```
    cmd /c fix_compatibility.bat
    ```
- 确保已安装 Microsoft Visual C++ Redistributable
- 检查是否被杀毒软件误报
- 尝试以管理员身份运行

**2. 缺少DLL文件错误**
- 重新安装 vcredist_x64.exe
- 确保系统已安装所有Windows更新

**3. 程序运行缓慢**
- 首次运行可能较慢，属于正常现象
- 确保有足够的磁盘空间

**4. 特定DLL错误解决方案**

**错误："无法启动此程序，因为计算机中丢失 api-ms-win-core-path-l1-1-0.dll"**
- **原因**：Windows版本过旧或缺少关键系统更新
- **解决方案**：
  1. 安装最新的Windows更新（推荐）
  2. 下载并安装 Windows 10 Universal C Runtime：
     - 访问：https://www.microsoft.com/zh-cn/download/details.aspx?id=48234
     - 下载适合您系统的版本
  3. 如果是Windows 7系统，确保已安装SP1和所有重要更新
  4. 重新安装最新版本的 vcredist_x64.exe

**错误："Failed to load Python DLL" 或 "LoadLibrary: 找不到指定的模块"**
- **原因**：Python运行时环境缺失或损坏
- **解决方案**：
  1. 确保系统架构匹配（程序需要64位系统）
  2. 安装Microsoft Visual C++ 2015-2022 Redistributable (x64)：
     - 下载地址：https://aka.ms/vs/17/release/vc_redist.x64.exe
  3. 安装Windows 10 Universal C Runtime（如上述链接）
  4. 重启计算机后重试
  5. 如果问题持续，尝试以管理员身份运行程序

**兼容性说明**：
- 程序在Windows 10/11上运行最稳定
- Windows 7需要安装SP1和所有重要更新
- Windows 8/8.1需要安装最新更新
- 不支持32位系统

### 使用问题

**4. 验证码错误**
- 检查手机时间是否准确
- 确认Authenticator应用中的密钥正确
- 重新扫描QR码设置

**5. 数据库文件损坏**
- 查看备份文件夹中的自动备份
- 使用"文件" → "备份管理"恢复数据
- 联系技术支持获取帮助

**6. 忘记数据库位置**
- 检查程序目录下的配置文件
- 查看最近使用的文件列表
- 搜索计算机中的 .pwdb 文件

**7. 云存储同步问题**
- 检查网络连接
- 验证云存储配置信息
- 查看同步日志
- 参考：[云存储同步指南 - 故障排除](云存储同步指南.md#故障排除)

### Linux常见问题
- 构建工具未找到 → 安装 dpkg-dev debhelper
- PyQt6导入失败 → 安装 python3-pyqt6
- 详见：[UOS使用指南.md - 故障排除](UOS使用指南.md#故障排除)

### 云存储问题
- 同步状态显示"未初始化" → 检查配置和重新保存设置
- 同步失败 → 检查网络连接和路径权限
- 冲突频繁 → 调整同步策略和使用规范
- 详见：[云存储同步指南 - 故障排除](云存储同步指南.md#故障排除)

## 💡 使用技巧

### 安全建议
- 定期备份密码数据
- 不要在公共电脑上使用
- 保护好Authenticator密钥
- 使用强密码保护重要账号
- 启用云存储同步以防数据丢失

### 效率提升
- 使用分类整理密码
- 善用搜索功能快速查找
- 设置合适的自动锁定时间
- 定期清理不用的密码
- 配置云存储实现多设备同步

## 🛠️ 技术文档

### 开发者参考
- [**构建脚本**](build-deb.sh) - Linux DEB包构建脚本
- [**依赖清单**](requirements.txt) - Python依赖包列表
- [**打包配置**](密码管理工具.spec) - PyInstaller配置文件

### 生成兼容版本（开发者选项）

如果标准版本在某些系统上仍然无法运行，可以尝试构建兼容版本：

**前提条件**：
- 已安装Python 3.8+和所有依赖包
- 已安装PyInstaller

**构建步骤**：
1. 在项目根目录下运行：
   ```
   python build_compatible.py
   ```
2. 等待构建完成
3. 在`dist`目录下找到`密码管理工具_兼容版.exe`
4. 将兼容版本分发给遇到问题的用户

**兼容版本特点**：
- 禁用UPX压缩，提高老旧系统兼容性
- 包含更多运行时依赖
- 文件体积较大但兼容性更好
- 明确指定64位架构

## 🗑️ 卸载

- 直接删除程序文件即可
- 用户数据存储在程序同目录下的相关文件中
- 如需完全清理，请同时删除配置文件和数据库文件
- 云存储中的数据需要手动清理

## 📞 技术支持

### 获取帮助
1. 查看相应平台的详细文档
2. 检查系统要求是否满足
3. 参考故障排除部分
4. 确认网络连接和权限设置
5. 对于云存储问题，检查云服务客户端状态
6. 联系开发者获取技术支持

### 相关文档
- [功能介绍](功能介绍.md) - 详细的功能介绍和特性说明
- [云存储同步指南](云存储同步指南.md) - 详细的云存储配置和使用说明
- [UOS使用指南](UOS使用指南.md) - 在统信UOS系统上构建和安装
- [README.md](README.md) - 主要功能说明和使用方法

---

**注意：** 本程序为单文件可执行程序，无需安装，但首次运行前必须安装Microsoft Visual C++ Redistributable。

**🔒 安全提醒**：请妥善保管你的密码数据和Authenticator密钥，定期备份重要数据，建议启用云存储同步功能。

**💡 提示：** 点击上方链接可直接跳转到对应的详细文档。建议根据你的操作系统和使用需求选择相应的指南进行阅读。云存储功能为可选功能，如不需要多设备同步可跳过相关配置。

---

*🔒 您的数字安全，我们守护！*