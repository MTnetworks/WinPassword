# 密码管理工具

一个简洁大方的密码管理软件，使用Authenticator认证方式保障安全，支持云存储同步功能。

## 📚 快速导航
- 📖 [**完整使用指南**](完整使用指南.md) - 所有文档的导航索引和详细使用说明
- ☁️ [**云存储同步指南**](云存储同步指南.md) - 云存储功能完整说明
- 🐧 [**Linux用户**](UOS使用指南.md) - UOS使用指南

## 📱 使用前准备

**⚠️ 重要提醒：使用本工具前，请先在手机上下载并安装身份验证器应用！**

### 推荐的身份验证器应用
1. **腾讯身份验证器**（强烈推荐）
   - 微信搜索"腾讯身份验证器"小程序
   - 或在应用商店下载"腾讯身份验证器"APP
   - 国内网络环境稳定，界面简洁易用

2. **Google Authenticator**
   - 国际通用标准，稳定可靠

3. **Microsoft Authenticator**
   - 微软官方产品，功能丰富

4. **其他兼容应用**
   - 1Password、Authy等任何支持TOTP标准的应用

## 功能特点

- **Authenticator认证**：使用TOTP（基于时间的一次性密码）进行主密码认证，提供双因素认证保障
- **密码管理**：添加、修改、删除密码
- **分类管理**：对密码进行分类整理
- **搜索功能**：快速查找密码
- **云存储同步**：支持百度网盘、OneDrive、Dropbox等云存储服务，实现多设备数据同步
- **网络驱动器**：支持局域网共享和网络映射驱动器
- **数据导入导出**：支持加密导出和导入数据
- **数据库共享**：可配置密码数据库文件路径，实现不同电脑共享一个数据库文件
- **自动锁定**：可设置自动锁定时间，保障安全
- **备份功能**：自动备份数据库，防止数据丢失

## 安装依赖

```bash
pip install -r requirements.txt
```

## 使用方法

### 启动应用

```bash
python main.py
```

### 创建新的密码库

**⚠️ 请确保已在手机上安装好腾讯身份验证器或其他Authenticator应用！**

1. 启动应用后，切换到"新建"标签页
2. 选择数据库文件保存位置
3. 输入用户名
4. 点击"创建"按钮
5. **立即使用腾讯身份验证器等Authenticator应用扫描生成的QR码或手动输入密钥**

### 登录密码库

1. 启动应用后，在"登录"标签页选择数据库文件
2. **打开腾讯身份验证器，输入显示的6位验证码**
3. 点击"登录"按钮

### 管理密码

- 点击工具栏上的"添加密码"按钮添加新密码
- 双击密码列表中的条目或选中后点击"编辑密码"按钮编辑密码
- 选中密码后点击"删除密码"按钮或按Delete键删除密码
- 右键点击密码可以复制用户名或密码

### 管理分类

- 点击工具栏上的"添加分类"按钮添加新分类
- 右键点击分类可以修改分类名称
- 右键点击分类可以删除分类（分类下的密码会被移动到"其他"分类）

### 云存储同步

#### 快速设置
1. 点击菜单栏"设置" → "云存储设置"
2. 勾选"启用云存储同步"
3. 选择存储类型（百度网盘、OneDrive、Dropbox或网络驱动器）
4. 配置相应的路径
5. 点击"保存"完成设置

#### 支持的云存储服务
- **百度网盘**：需要安装百度网盘客户端
- **OneDrive**：需要安装OneDrive客户端
- **Dropbox**：需要安装Dropbox客户端
- **网络驱动器**：支持局域网共享文件夹

#### 同步功能
- **自动同步**：程序启动时和保存时自动同步
- **定时同步**：可设置定时自动同步间隔
- **手动同步**：支持手动触发同步操作
- **冲突解决**：智能处理同步冲突

详细使用方法请参考：[云存储同步指南](云存储同步指南.md)

### 导出/导入数据

- 点击工具栏上的"导出数据"按钮导出加密数据
- 点击工具栏上的"导入数据"按钮导入加密数据

## 安全说明

- 所有密码数据使用强加密算法存储
- 主密码使用TOTP认证，提供双因素认证保障
- 云存储同步保持数据加密，确保云端数据安全
- 自动锁定功能确保离开时数据安全
- 定期备份功能防止数据丢失

### TOTP密钥管理

1. 保存TOTP密钥的方法
- 在登录界面切换到"密钥管理"标签页
- 勾选"在此设备上保存TOTP密钥"选项
- 在弹出的对话框中输入您的TOTP密钥
- 点击确定后，密钥将被保存到此设备

2. 恢复TOTP密钥的方法
- 在登录界面切换到"密钥管理"标签页
- 点击"备份TOTP密钥"按钮可以将当前的密钥保存到文件中
- 点击"恢复TOTP密钥"按钮可以从备份文件中恢复密钥
- 如果同时勾选了"在此设备上保存TOTP密钥"选项，恢复的密钥也会被保存到此设备

注意事项：
1. 保存TOTP密钥到设备虽然方便，但可能降低安全性，请根据实际需求选择是否使用此功能
2. 建议定期备份TOTP密钥到安全的位置，以防设备故障导致密钥丢失
3. 如果要取消保存密钥，只需取消勾选"在此设备上保存TOTP密钥"选项即可

### 数据备份与恢复

1. 备份设置
- 在登录窗口的"设置"标签页中找到"备份设置"组
- 可配置：
  - 是否启用自动备份
  - 备份间隔（1-30天）
  - 保留备份数量（1-20个）
  - 备份保存路径

2. 备份文件说明
- 备份文件保存在指定的备份路径中
- 备份文件命名格式：数据库名_年月日_时分秒.bak
- 系统自动维护备份数量，超过设定数量时会删除最旧的备份

3. 数据恢复方法
- 当需要恢复数据时：
  1. 找到需要恢复的备份文件（.bak文件）
  2. 将其重命名为原数据库文件名（.pwdb文件）
  3. 替换当前的数据库文件

### 云存储安全

1. **数据加密**：云端存储的数据库文件保持加密状态
2. **访问控制**：建议云存储账号使用强密码和双因素认证
3. **网络安全**：避免在不安全的网络环境下进行同步
4. **隐私保护**：选择私有文件夹，避免共享敏感数据

## 多设备使用场景

### 个人多设备同步
- 家庭电脑和办公室电脑之间同步密码数据
- 使用云存储服务实现自动同步
- 支持离线使用，联网时自动同步

### 团队协作
- 使用网络驱动器共享团队密码库
- 支持多人同时访问和修改
- 智能冲突解决机制

### 移动办公
- 临时设备快速同步数据
- 使用完毕后可清除本地缓存
- 支持只读模式保护数据安全

## 注意事项

- **使用前请务必在手机上安装腾讯身份验证器或其他Authenticator应用**
- 请妥善保管Authenticator密钥，丢失后将无法恢复数据
- 建议定期备份数据库文件
- 建议将备份路径设置在不同的磁盘分区或存储设备
- 定期检查备份是否正常进行
- 云存储同步需要稳定的网络连接和正确配置的云存储客户端
- 首次使用云存储功能前，建议先备份本地数据库文件
- 在多设备环境下，建议设置合适的同步策略避免冲突
- 如需在多台电脑间共享数据库，可将数据库文件放置在网络驱动器或云存储同步文件夹中